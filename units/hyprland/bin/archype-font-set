#!/bin/bash

font_name="$1"

if [[ -n "$font_name" && "$font_name" != "CNCLD" ]]; then
  if fc-list | grep -iq "$font_name"; then
    sed -i "s/family = \".*\"/family = \"$font_name\"/g" ~/.config/alacritty/alacritty.toml
    sed -i "s/font-family: .*/font-family: '$font_name';/g" ~/.config/waybar/style.css
    sed -i "s/font-family: .*/font-family: '$font_name';/g" ~/.config/swayosd/style.css

    archype-restart-app waybar
    archype-restart-app swayosd-server
    archype-restart-app walker
  else
    echo "Font '$font_name' not found."
    exit 1
  fi
else
  echo "Usage: archype-font-set <font-name>"
fi
